<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <title>222</title>
</head>
<body>
<input type="text" id="txt"/>
<input type="button" id="btn" value="搜索"/>
<ul id="uls">
    <!--<li>搜索出来的列表条目</li>-->
</ul>
<script>
    var txt=document.getElementById("txt");
    var btn=document.getElementById("btn");
    var uls=document.getElementById("uls");
    txt.onkeyup=function(){
        var xhr=new XMLHttpRequest();
        xhr.open("POST","php/baidu1.php",true);
        xhr.setRequestHeader('Content-Type',"application/x-www-form-urlencoded");
        xhr.send("keyword="+txt.value);
        xhr.onload=function(){
            if(xhr.status>=200&&xhr.status<300||xhr.status==304){
                //console.log(xhr.responseText);
                var x=JSON.parse(xhr.responseText);
                //console.log(x.data.s[0]);
                console.log(x);
                var html="";
                for(var i=0;i< x.data.s.length;i++){
                    html+='<li>'+ x.data.s[i]+'</li>';
                }
                uls.innerHTML=html;
            }
        }
    };

//    txt.onkeyup=function(){
//        var xhr=new XMLHttpRequest();
//        xhr.open("GET","php/baidu1.php?t="+Math.random()*1000+"&keyword="+txt.value,true);
//        xhr.send(null);
//        xhr.onload=function(){
//            if(xhr.status>=200&&xhr.status<300||xhr.status==304){
//                //console.log(xhr.responseText);
//                var x=JSON.parse(xhr.responseText);
//                console.log(x.s);
//                var html="";
//                for(var i=0;i< x.data.s.length;i++){
//                    html+='<li>'+ x.data.s[i]+'</li>';
//                }
//                uls.innerHTML=html;
//            }
//        }
//    }
</script>
</body>
</html>